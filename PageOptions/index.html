<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Works with really large numbers">
    <meta name="author" content="Virx">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../assets/logo.png">
    <script>
      function load(url) {
        var script = document.createElement('script'), script.setAttribute('src',url);
        document.head.appendChild(script);
      }
      load((localStorage.getItem("beta") == "On") ? "../assets/Options.js":"../assets/Options.min.js");
      if (localStorage.getItem("beta") == "On") url = (sessionStorage.getItem("index") == "On") ? "assets/CPquery.js":"../assets/CPquery.js";
      else url = (sessionStorage.getItem("index") == "On") ? "assets/CPquery_1-0-0.min.js":"../assets/CPquery_1-0-0.min.js";
      load(url);
    </script>
    <title>CalcPlus Page Options</title>
    <style>
      body { color: white; background-color: white; margin: 0; }
      a { color: white; }
      button { color: white; }
      nav a { background-color: white; color: white; }
      nav a:link, nav a:visited { background-color: white; color: white; }
      nav a:hover, nav a:active { background-color: white; color: white; }
    </style>
  </head>
  <body>
    <nav>
      <a href="../">Home</a>
      <a href="../PreviewLibrary/">Preview the library</a>
      <a href="../LibrarySource/">Library Source</a>
      <a href="../CPQuerySource/">CPQuery Source</a>
      <a href="../AboutLibrary/">About Library</a>
      <a href="../SiteDiscord/">Offical Discord</a>
    </nav>
    <p class="console"></p>
    <br>
    <noscript>Please allow JavaScript to run on this page, or else most things won't work. Thank you!<br></noscript>
    <h1>Page Options</h1>
    <h3>Dark Mode <button id="dark">Off</button></h3>
    <h3>On-Screen Console <button id="console">Off</button></h3>
    <h3>Save Inputs <button id="saveI">Off</button></h3>
    <h3>Beta <button id="beta">Off</button> (Please note that pages will take longer to load, and will use up more data.)</h3>
    <!-- Mobile setting - auto-activate - will always load minified sources -->
    
    <script>
      function defineButton(id) {
        var isDark = id=="dark", store = $("@is"+id.charAt(0).toUpperCase()+id.substr(1)), id = $("#"+id);
        if (store.me() == "On") id.text.replace("On");
        id.click(function(){
          if (store.me() == "Off") {
            store.set("On");
            if (isDark) return location.reload();
            reloadOptions();
          } else if (store.me() == "On") {
            store.set("Off");
            if (isDark) return location.reload();
            reloadOptions();
          }
        });
      }
      defineButton("dark");
      defineButton("console");
      defineButton("saveI");
      defineButton("beta");
    </script>
  </body>
</html>
